<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    Using EID certificate on chromium
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="./theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="./theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="./theme/css/main.css">

    <link rel="stylesheet" href="./theme/css/blog.css">
    <link rel="stylesheet" href="./theme/css/github.css">
        <link href="https://visibilityspots.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Visibilityspots Atom Feed" />
        <link href="https://visibilityspots.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Visibilityspots RSS Feed" />
        <script src="./theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href="."><h1>Visibilityspots.com <i class="icon-dashboard"></i></h1></a>
        <p id="site-desc"> Linux & Open-Source enthousiast | Scouting | Longboarding </p>
    </hgroup>
    <nav>
        <ul id="nav-links">
                <li><a href="./pages/contact.html">Contact</a></li>
                <li><a href="./pages/links.html">Links</a></li>
                <li><a href="./pages/profile.html">Profile</a></li>
                <li><a href="./pages/projects.html">Projects</a></li>
        </ul>
    </nav>
    Categories:
      <ul>
          <li><a href="http://www.visibilityspots.com/category/android.html">android</a></li>
          <li><a href="http://www.visibilityspots.com/category/apple.html">apple</a></li>
          <li><a href="http://www.visibilityspots.com/category/home-automation.html">home-automation</a></li>
          <li><a href="http://www.visibilityspots.com/category/linux.html">linux</a></li>
          <li><a href="http://www.visibilityspots.com/category/networking.html">networking</a></li>
          <li><a href="http://www.visibilityspots.com/category/php.html">php</a></li>
          <li><a href="http://www.visibilityspots.com/category/puppet.html">puppet</a></li>
          <li><a href="http://www.visibilityspots.com/category/security.html">security</a></li>
      </ul>
<script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 3,
  interval: 30000,
  width: 'auto',
  height: 300,
  theme: {
	shell: {
	  background: '#eeeeee',
	  color: '#000000'
	},
	tweets: {
	  background: '#eeeeee',
	  color: '#000000',
	  links: '#1a50a1'
	}
  },
  features: {
	scrollbar: false,
	loop: false,
	live: false,
	behavior: 'all'
  }
}).render().setUser('visibilityspots').start();
</script>
<footer id="site-info">
    <a href="http://creativecommons.org/licenses/by-nc/2.0/be/deed.nl">License</a> | 2009 - 2013 <a href="http://www.visibilityspots.com">Visibilityspots.com</a> | Powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> | <a href="http://visibilityspots.com/feeds/all.atom.xml" rel="alternate">Atom</a> feed
</footer></header>    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2013-05-29T19:00:00" pubdate>
				Wed 29 May 2013
                        </time>
                        <a href="./chrome-eid.html" rel="bookmark"><h1>Using EID certificate on chromium</h1></a>
                        <time class="post-time" datetime="2013-05-29T19:00:00" pubdate>
                        </time>
                    </header>

                    <section class="post-content">
			<p>During this time of the year in Belgium most people needs to fill in their taxes forms. Since a few years the Belgium government provided an electronic way to accomplish this task. Using a digital passport you can authenticate yourself.</p>
<p>Since I wanted to use this nice tool I had to configure my local setup to have it all glued together on my linux machine.</p>
<p>The necessary steps I described in this post so other interested people can use their linux setups also to fill in the tax forms.</p>
<p>The mayor package to install on a fedora machine is the <a class="reference external" href="https://code.google.com/p/eid-mw/">eid-mw</a> package:</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>wget https://eid-mw.googlecode.com/files/eid-mw-4.0.0-0.925.fc16.x86_64.rpm
<span class="nv">$ </span>sudo rpm -Uvh eid-mw-4.0.0-0.925.fc16.x86_64.rpm
</pre>
<p>If you are using archlinux on a dell latitude e6530 you can use the internal card reader by installing the drivers of the <a class="reference external" href="https://wiki.archlinux.org/index.php/Common_Access_Card">Common Access Card</a></p>
<pre class="code bash literal-block">
<span class="nv">$ </span>sudo pacman -S pcsclite
<span class="nv">$ </span>sudo vim /etc/opensc.conf
</pre>
<p>In the opensc.conf file you need to uncomment the setting '''enable_pinpad = false'''' on two places before you enable the process at boot and run it:</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>sudo systemctl <span class="nb">enable </span>pcscd
<span class="nv">$ </span>sudo systemctl start pcscd
</pre>
<p>So you could install the <a class="reference external" href="https://aur.archlinux.org/packages/eid-mw">eid-mw package</a> from the AUR repository</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>yaourt eid-mw
</pre>
<p>Once you've installed the <a class="reference external" href="https://code.google.com/p/eid-mw/">eid-mw</a> package on fedora and configured the pcscd service on archlinux you could install the firefox eid <a class="reference external" href="https://addons.mozilla.org/en-US/firefox/addon/belgium-eid/">addon</a> if you are using the firefox browser. Once that's accomplished you could test if it all works using the <a class="reference external" href="http://test.eid.belgium.be/">test</a> page provided by the Belgium government.</p>
<p>You can also use the <a class="reference external" href="https://code.google.com/p/eid-viewer/">eid-viewer</a> package, which provides you with a graphical piece of software so you can read out your passport, printing it out. Testing your pin code (if you forgot you're pincode you still have to go to your town services.</p>
<p>For fedora</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>wget https://eid-viewer.googlecode.com/files/eid-viewer-4.0.0-0.52.fc16.x86_64.rpm
<span class="nv">$ </span>sudo rpm -Uvh eid-viewer-4.0.0-0.52.fc16.x86_64.rpm
</pre>
<p>For archlinux install the <a class="reference external" href="https://aur.archlinux.org/packages/eid-viewer/">eid-viewer package</a></p>
<pre class="code bash literal-block">
<span class="nv">$ </span>yaourt eid-viewer
</pre>
<p>Once the installation finished successfully you can run the software to view the information of your passport</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>eid-viewer
</pre>
<p>Still I'm not using firefox but the <a class="reference external" href="http://www.chromium.org">chromium-browser</a> to accomplish than I had to add the eid interface into the chromium security settings. I found an <a class="reference external" href="https://code.google.com/p/eid-mw/wiki/ChromeLinux">explanation</a> on google code and copied those steps into this post to be completed.</p>
<pre class="code bash literal-block">
<span class="nv">$ </span><span class="c"># only for fedora install nss-tools
</span><span class="nv">$ </span>sudo yum install nss-tools

<span class="nv">$ </span>killall chromium-browser
<span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span>modutil -dbdir sql:.pki/nssdb/ -add <span class="s2">&quot;Belgium eID&quot;</span> -libfile /usr/lib/libbeidpkcs11.so.0
<span class="nv">$ </span>modutil -dbdir sql:.pki/nssdb/ -list
</pre>
<p>So if you now start your chromium browser you could <a class="reference external" href="http://test.eid.belgium.be/">test</a> if it all works on your machine too :)</p>
<p>Resources:</p>
<ul class="simple">
<li><a class="reference external" href="http://eid.belgium.be/nl/je_eid_gebruiken/de_eid-middleware_installeren/linux/">eid-belgium</a></li>
</ul>

                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="./category/linux.html">linux</a></p>
                        <p>Tags: <a href="./tag/archlinux.html">archlinux</a>, <a href="./tag/fedora.html">fedora</a>, <a href="./tag/linux.html">linux</a>, <a href="./tag/eid.html">eid</a>, <a href="./tag/fod.html">fod</a>, <a href="./tag/belgium.html">Belgium</a>, <a href="./tag/chrome.html">chrome</a>, <a href="./tag/chromium.html">chromium</a>, <a href="./tag/browser.html">browser</a>, </p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'visibilityspots';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>

<!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
	//<![CDATA[
	var owa_baseUrl = 'https://visibilityspots.com/owa/';
	var owa_cmds = owa_cmds || [];
	owa_cmds.push(['setSiteId', 'c85a3cb3b38615fdcd12afb67de26635']);
	owa_cmds.push(['trackPageView']);
	owa_cmds.push(['trackClicks']);
	owa_cmds.push(['trackDomStream']);

	(function() {
		var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
		owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
		_owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
		var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
	}());
	//]]>
</script>
<!-- End Open Web Analytics Code -->
        <script src="./theme/js/main.js"></script>
    </body>
</html>